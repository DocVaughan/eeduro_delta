<?xml version="1.0"?>
<robot name="eeduro_delta" xmlns:xacro="http://ww.ros.org/wiki/xacro">

	<xacro:property name="pi" value="3.1415926535897931"/>

	<xacro:include filename="$(find eeduro_delta_description)/urdf/eeduro_delta_inertial.urdf.xacro"/>
	<!--<xacro:include filename="$(find eeduro_delta_description)/urdf/eeduro_delta.gazebo.xacro"/>-->

	<link name="world"/>

	<gazebo reference="world">
		<static>true</static>
	</gazebo>

	
	<joint name="fix_to_world" type="fixed">
	  <parent link="world"/>
		<child link="base_link"/>
		<origin xyz="0 0 0" rpy="0 0 0"/>
	</joint>

	
	<link name="base_link">
		<visual>
			<geometry>
				<mesh filename="package://eeduro_delta_description/meshes/delta_base.dae"/>
			</geometry>
		</visual>
		<collision>
			<geometry>
				<mesh filename="package://eeduro_delta_description/meshes/delta_base_collision.dae"/>
			</geometry>
		</collision>
		<xacro:base_inertial/>
	</link>


	<xacro:delta_arm parent="base_link" arm_nr="1"/>


	<xacro:macro name="delta_arm" params="parent arm_nr">

		<joint name="arm${arm_nr}_joint_motor" type="continuous">
		  <parent link="${parent}"/>
		  <child link="arm${arm_nr}_motor"/>
		  <origin xyz="0.04 -0.052735026919 0.195" rpy="-1.570796327 0 3.141592654"/>
		  <axis xyz="1 0 0"/>
		  <dynamics damping="0.0000001"/>
		</joint>


		<link name="arm${arm_nr}_motor">
	  <visual>
	    <origin xyz="0 0 0" rpy="0 1.570796327 0"/>
	    <geometry>
	      <cylinder radius="0.006" length="0.018"/>
	    </geometry>
	  </visual>
		<xacro:motor_inertial/>
		</link>
	</xacro:macro>


</robot>

